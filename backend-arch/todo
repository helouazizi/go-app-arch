you need to refactore the repository into dtabase conection 